{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/tobiaperosino/Library/CloudStorage/OneDrive-OxfordBrookesUniversity/Microsoft%20Copilot%20Chat%20Files/Tech%20Projects/running-AI-Coach/frontend/app/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  CognitoIdentityProviderClient,\n  SignUpCommand,\n} from \"@aws-sdk/client-cognito-identity-provider\";\n\nconst client = new CognitoIdentityProviderClient({ region: \"eu-west-2\" });\nconst clientId = \"17ior5lk7vcmim6gdp48eu1138\";\n\nexport default function SignupPage() {\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n    targetCalories: \"\",\n    targetProtein: \"\",\n    targetCarbs: \"\",\n    targetFat: \"\",\n  });\n  const [status, setStatus] = useState<string | null>(null);\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setStatus(\"Submitting...\");\n    try {\n      await client.send(\n        new SignUpCommand({\n          ClientId: clientId,\n          Username: form.email,\n          Password: form.password,\n          UserAttributes: [\n            { Name: \"email\", Value: form.email },\n            { Name: \"custom:targetCalories\", Value: form.targetCalories || \"0\" },\n            { Name: \"custom:targetProtein\", Value: form.targetProtein || \"0\" },\n            { Name: \"custom:targetCarbs\", Value: form.targetCarbs || \"0\" },\n            { Name: \"custom:targetFat\", Value: form.targetFat || \"0\" },\n          ],\n        })\n      );\n      setStatus(\"Check your email to confirm, then return to log in.\");\n      window.location.href = `/confirm?email=${encodeURIComponent(form.email)}`;\n    } catch (err: any) {\n      setStatus(`Signup failed: ${err.message ?? String(err)}`);\n    }\n  }\n\n  return (\n    <main style={{ maxWidth: 360, margin: \"40px auto\", display: \"flex\", flexDirection: \"column\", gap: 12 }}>\n      <h1>Create account</h1>\n      <form onSubmit={handleSubmit} style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={form.email}\n          onChange={(e) => setForm({ ...form, email: e.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={form.password}\n          onChange={(e) => setForm({ ...form, password: e.target.value })}\n          required\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Target calories\"\n          value={form.targetCalories}\n          onChange={(e) => setForm({ ...form, targetCalories: e.target.value })}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Target protein\"\n          value={form.targetProtein}\n          onChange={(e) => setForm({ ...form, targetProtein: e.target.value })}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Target carbs\"\n          value={form.targetCarbs}\n          onChange={(e) => setForm({ ...form, targetCarbs: e.target.value })}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Target fat\"\n          value={form.targetFat}\n          onChange={(e) => setForm({ ...form, targetFat: e.target.value })}\n        />\n        <button type=\"submit\">Sign up</button>\n      </form>\n      {status && <p>{status}</p>}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAQA,MAAM,SAAS,IAAI,yQAA6B,CAAC;IAAE,QAAQ;AAAY;AACvE,MAAM,WAAW;AAEF,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAC/B,OAAO;QACP,UAAU;QACV,gBAAgB;QAChB,eAAe;QACf,aAAa;QACb,WAAW;IACb;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IAEpD,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,UAAU;QACV,IAAI;YACF,MAAM,OAAO,IAAI,CACf,IAAI,qPAAa,CAAC;gBAChB,UAAU;gBACV,UAAU,KAAK,KAAK;gBACpB,UAAU,KAAK,QAAQ;gBACvB,gBAAgB;oBACd;wBAAE,MAAM;wBAAS,OAAO,KAAK,KAAK;oBAAC;oBACnC;wBAAE,MAAM;wBAAyB,OAAO,KAAK,cAAc,IAAI;oBAAI;oBACnE;wBAAE,MAAM;wBAAwB,OAAO,KAAK,aAAa,IAAI;oBAAI;oBACjE;wBAAE,MAAM;wBAAsB,OAAO,KAAK,WAAW,IAAI;oBAAI;oBAC7D;wBAAE,MAAM;wBAAoB,OAAO,KAAK,SAAS,IAAI;oBAAI;iBAC1D;YACH;YAEF,UAAU;YACV,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,eAAe,EAAE,mBAAmB,KAAK,KAAK,GAAG;QAC3E,EAAE,OAAO,KAAU;YACjB,UAAU,CAAC,eAAe,EAAE,IAAI,OAAO,IAAI,OAAO,MAAM;QAC1D;IACF;IAEA,qBACE,8OAAC;QAAK,OAAO;YAAE,UAAU;YAAK,QAAQ;YAAa,SAAS;YAAQ,eAAe;YAAU,KAAK;QAAG;;0BACnG,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAK,UAAU;gBAAc,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,KAAK;gBAAE;;kCACtF,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,KAAK;wBACjB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAC1D,QAAQ;;;;;;kCAEV,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,QAAQ;wBACpB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAC7D,QAAQ;;;;;;kCAEV,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,cAAc;wBAC1B,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;kCAErE,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,aAAa;wBACzB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,eAAe,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;kCAEpE,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,WAAW;wBACvB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;kCAElE,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,SAAS;wBACrB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4BAAC;;;;;;kCAEhE,8OAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;YAEvB,wBAAU,8OAAC;0BAAG;;;;;;;;;;;;AAGrB"}}]
}