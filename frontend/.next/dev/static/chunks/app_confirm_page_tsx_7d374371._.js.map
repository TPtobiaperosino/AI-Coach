{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tobiaperosino/Library/CloudStorage/OneDrive-OxfordBrookesUniversity/Microsoft%20Copilot%20Chat%20Files/Tech%20Projects/running-AI-Coach/frontend/app/confirm/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useSearchParams } from \"next/navigation\";\nimport { CognitoIdentityProviderClient, ConfirmSignUpCommand } from \"@aws-sdk/client-cognito-identity-provider\";\nconst client = new CognitoIdentityProviderClient({ region: \"eu-west-2\" });\nconst clientId = \"254veiurhs7i1dng9vf4p64fug\";\n\nexport default function ConfirmPage() {\n  const [email, setEmail] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [status, setStatus] = useState<string | null>(null);\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    const emailParam = searchParams.get(\"email\");\n    if (emailParam) {\n      setEmail(emailParam);\n    }\n  }, [searchParams]);\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setStatus(\"Verifico...\");\n    try {\n      await client.send(new ConfirmSignUpCommand({ ClientId: clientId, Username: email, ConfirmationCode: code }));\n      setStatus(\"Verificato! Ora puoi fare login.\");\n    } catch (err: any) {\n      setStatus(`Errore: ${err.message ?? String(err)}`);\n    }\n  }\n\n  return (\n    <main style={{ maxWidth: 360, margin: \"40px auto\", display: \"flex\", flexDirection: \"column\", gap: 12 }}>\n      <h1>Conferma account</h1>\n      <form onSubmit={handleSubmit} style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n        <input type=\"text\" placeholder=\"Codice ricevuto via email\" value={code} onChange={(e) => setCode(e.target.value)} required />\n        <button type=\"submit\">Conferma</button>\n      </form>\n      {status && <p>{status}</p>}\n      <Link href=\"/\" style={{ color: \"#2563eb\", textDecoration: \"underline\" }}>\n        Torna al login\n      </Link>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;;;AAJA;;;;;AAKA,MAAM,SAAS,IAAI,4QAA6B,CAAC;IAAE,QAAQ;AAAY;AACvE,MAAM,WAAW;AAEF,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,eAAe,IAAA,wJAAe;IAEpC,IAAA,0KAAS;iCAAC;YACR,MAAM,aAAa,aAAa,GAAG,CAAC;YACpC,IAAI,YAAY;gBACd,SAAS;YACX;QACF;gCAAG;QAAC;KAAa;IAEjB,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,UAAU;QACV,IAAI;YACF,MAAM,OAAO,IAAI,CAAC,IAAI,sQAAoB,CAAC;gBAAE,UAAU;gBAAU,UAAU;gBAAO,kBAAkB;YAAK;YACzG,UAAU;QACZ,EAAE,OAAO,KAAU;YACjB,UAAU,CAAC,QAAQ,EAAE,IAAI,OAAO,IAAI,OAAO,MAAM;QACnD;IACF;IAEA,qBACE,6LAAC;QAAK,OAAO;YAAE,UAAU;YAAK,QAAQ;YAAa,SAAS;YAAQ,eAAe;YAAU,KAAK;QAAG;;0BACnG,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAK,UAAU;gBAAc,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,KAAK;gBAAE;;kCACtF,6LAAC;wBAAM,MAAK;wBAAQ,aAAY;wBAAQ,OAAO;wBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBAAG,QAAQ;;;;;;kCACzG,6LAAC;wBAAM,MAAK;wBAAO,aAAY;wBAA4B,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAG,QAAQ;;;;;;kCAC1H,6LAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;YAEvB,wBAAU,6LAAC;0BAAG;;;;;;0BACf,6LAAC,0KAAI;gBAAC,MAAK;gBAAI,OAAO;oBAAE,OAAO;oBAAW,gBAAgB;gBAAY;0BAAG;;;;;;;;;;;;AAK/E;GAtCwB;;QAID,wJAAe;;;KAJd"}}]
}